{% extends '/includes/boiler.html' %} 
{% block title %}Contact Us - GoldGlanz{% endblock %}

{% block content %}

<body>

  <div class="container my-5">
    <h3 class="mb-4 text-center">Edit Product</h3>
    <div class="form-section mx-auto" style="max-width: 800px;">        
      <form method="post" class="needs-validation" novalidate>
        <!-- Name & Price -->
        <div class="row mb-3">
          <div class="col-md-6">
            <label class="form-label">Product Name *</label>
            <input type="text" name="p_name" value={{products.p_name}} class="form-control" required>
          </div>
          <div class="col-md-6">
            <label class="form-label">Price (â‚¹) *</label>
            <input type="number" name="p_price" value={{products.p_price}} class="form-control" step="100" required>
          </div>
        </div>

        <!-- Description -->
        <div class="mb-3">
          <label class="form-label">Description</label>
          <textarea class="form-control" name="p_description" rows="4">{{products.p_description}}</textarea>
        </div>
        
        <!-- Buttons -->
        <div class="text-end mt-4">
          <a href="/admin" class="btn btn-outline-secondary me-2">Cancel</a>
          <button type="submit" class="btn btn-gold">Save Changes</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Image Preview JS -->
  <script>
    const input = document.getElementById('imageInput');
    const preview = document.getElementById('preview');

    input.addEventListener('change', () => {
      const file = input.files[0];
      if (file && file.type.startsWith('image/')) {
        const reader = new FileReader();
        reader.onload = (e) => {
          preview.innerHTML = '';
          const img = document.createElement('img');
          img.src = e.target.result;
          img.classList.add('preview-image');
          preview.appendChild(img);
        };
        reader.readAsDataURL(file);
      }
    });
  </script>

</body>
</html>
{% endblock %}